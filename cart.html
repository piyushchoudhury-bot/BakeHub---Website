<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://t.contentsquare.net/uxa/e9bf517140a71.js"></script>
    <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "vc3gyl1nzp");
</script>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FK19YJTMBL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FK19YJTMBL');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart | BakeHub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fff8f0 0%, #ffe8e8 100%);
            color: #333;
            min-height: 100vh;
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1.2rem 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: #555;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: #ff6b9d;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .admin-link {
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            color: white !important;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .admin-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 107, 157, 0.4);
        }

        .admin-link::after {
            display: none;
        }

        /* Cart Container */
        .cart-container {
            max-width: 1000px;
            margin: 3rem auto;
            padding: 2rem;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        h2 {
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cart-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
            padding: 1.5rem 0;
            gap: 1rem;
        }

        .cart-item img {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            object-fit: cover;
        }

        .cart-details {
            flex: 1;
            margin-left: 20px;
        }

        .cart-details h3 {
            margin: 0;
            font-size: 1.3rem;
            color: #333;
        }

        .cart-details p {
            margin: 5px 0;
            color: #666;
            font-size: 1.1rem;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            border: 2px solid #f0f0f0;
            border-radius: 8px;
            padding: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
        }

        .remove-btn {
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(255, 107, 157, 0.3);
        }

        .remove-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.4);
        }

        .cart-summary {
            text-align: right;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 2px solid #f0f0f0;
        }

        .cart-summary p {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
        }

        .cart-summary span {
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .checkout-btn {
            display: block;
            margin: 2rem auto 0;
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            color: white;
            border: none;
            padding: 1rem 3rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
            transition: all 0.3s ease;
        }

        .checkout-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.4);
        }

        .empty-cart {
            text-align: center;
            color: #888;
            font-size: 1.2rem;
            padding: 4rem 2rem;
        }

        .empty-cart-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .continue-shopping {
            display: inline-block;
            margin-top: 2rem;
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .continue-shopping:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #ff6b9d 0%, #c86dd7 100%);
            color: white;
            padding: 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-content p {
            margin: 0.5rem 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .cart-details {
                margin-left: 0;
                width: 100%;
            }

            .nav-menu {
                gap: 1rem;
                font-size: 0.9rem;
            }

            .logo {
                font-size: 1.5rem;
            }
        }
    </style>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L9DTQLTXCZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L9DTQLTXCZ');
</script>
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <a href="index.html" class="logo">üç∞ BakeHub</a>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="cart.html" class="active">üõí Cart</a></li>
                    <li><a href="admin.html" class="admin-link">Admin</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="cart-container">
        <h2>Your Cart üõí</h2>
        <div id="cartItems"></div>
        <div id="cartSummary" class="cart-summary"></div>
        <button id="checkoutBtn" class="checkout-btn" style="display: none;">Proceed to Checkout</button>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2026 BakeHub. All Rights Reserved.</p>
            <p>Made with ‚ù§Ô∏è for dessert lovers everywhere</p>
        </div>
    </footer>

    <script>
        // Cart Management
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const cartContainer = document.getElementById("cartItems");
        const cartSummary = document.getElementById("cartSummary");
        const checkoutBtn = document.getElementById("checkoutBtn");

        function renderCart() {
            cartContainer.innerHTML = "";
            let total = 0;

            if (cart.length === 0) {
                cartContainer.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">üõí</div>
                        <p>Your cart is empty üòî</p>
                        <a href="index.html" class="continue-shopping">Continue Shopping</a>
                    </div>
                `;
                cartSummary.innerHTML = "";
                checkoutBtn.style.display = "none";
                return;
            }

            checkoutBtn.style.display = "block";

            cart.forEach((item, index) => {
                total += item.price * item.quantity;

                const div = document.createElement("div");
                div.classList.add("cart-item");
                div.innerHTML = `
                    <img src="${item.image_url}" alt="${item.name}">
                    <div class="cart-details">
                        <h3>${item.name}</h3>
                        <p>‚Çπ${item.price.toFixed(2)}</p>
                        <div class="quantity-controls">
                            <label>Qty:</label>
                            <input type="number" class="quantity-input" value="${item.quantity}" min="1" onchange="updateQuantity(${index}, this.value)">
                        </div>
                    </div>
                    <button class="remove-btn" onclick="removeItem(${index})">Remove</button>
                `;

                cartContainer.appendChild(div);
            });

            cartSummary.innerHTML = `<p>Total: <span>‚Çπ${total.toFixed(2)}</span></p>`;
        }

        function updateQuantity(index, value) {
            const qty = parseInt(value);
            if (qty > 0) {
                cart[index].quantity = qty;
                localStorage.setItem("cart", JSON.stringify(cart));
                renderCart();
            }
        }

        function removeItem(index) {
            if (confirm("Remove this item from cart?")) {
                cart.splice(index, 1);
                localStorage.setItem("cart", JSON.stringify(cart));
                renderCart();
            }
        }

        async function checkout() {
            if (cart.length === 0) {
                alert("Your cart is empty!");
                return;
            }

            const customerName = prompt("Enter your name:");
            if (!customerName) return;

            const customerEmail = prompt("Enter your email:");
            if (!customerEmail) return;

            // Place orders for all items in cart
            for (const item of cart) {
                const orderData = {
                    dessert_id: item.id,
                    customer_name: customerName,
                    customer_email: customerEmail,
                    quantity: item.quantity
                };

                try {
                    const res = await fetch("https://bakehub-website-1.onrender.com/desserts", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(orderData)
                    });

                    const result = await res.json();
                    if (!res.ok) {
                        alert(`Error ordering ${item.name}: ${result.message}`);
                        return;
                    }
                } catch (error) {
                    console.error("Error placing order:", error);
                    alert("‚ùå Failed to place order. Try again later.");
                    return;
                }
            }

            alert("üéâ All orders placed successfully! We'll contact you soon.");
            localStorage.removeItem("cart");
            cart = [];
            renderCart();
        }

        checkoutBtn.addEventListener("click", checkout);
        renderCart();
    </script>
</body>

</html>



